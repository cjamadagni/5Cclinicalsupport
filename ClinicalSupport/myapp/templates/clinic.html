<html>
<head>
	<title> Test </title>
	
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

	<!-- jQuery for JavaScript components -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

	<!-- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

	<style type="text/css">
		/* The Modal (background) */
		.modal {
			display: none; /* Hidden by default */
			position: fixed; /* Stay in place */
			z-index: 1; /* Sit on top */
			padding-top: 100px; /* Location of the box */
			left: 0;
			top: 0;
			width: 100%; /* Full width */
			height: 100%; /* Full height */
			overflow: auto; /* Enable scroll if needed */
			background-color: rgb(0,0,0); /* Fallback color */
			background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
		}

		/* Modal Content */
		.modal-content {
			background-color: #fefefe;
			margin: auto;
			padding: 20px;
			border: 1px solid #888;
			width: 80%;
		}

		/* The Close Button */
		.close {
			color: #aaaaaa;
			float: right;
			font-size: 28px;
			font-weight: bold;
		}

		.close:hover,
		.close:focus {
			color: #000;
			text-decoration: none;
			cursor: pointer;
		}
	</style>	



	<script>
		

	function clearPreviousEntry() {
		document.getElementById('l2').style.display = "none";
		document.getElementById('chestData').style.display = "none";
		document.getElementById('l4').style.display = "none";	

	}	
	 
	function chestDataSubmit() {
		var smokingHistory = document.getElementById('smoking').checked;
		var allergies = document.getElementById('allergies').value;
		var fever = document.getElementById('fever').checked;
		var cough = document.getElementById('cough').checked;
		
		// Getting the modal to display diagnosis
		var modal = document.getElementById('modal');
		var span = document.getElementsByClassName("close")[0];

		console.log("Smoking history = " + smokingHistory);
		console.log("Allergies = " + allergies);
		console.log("Cough = " + cough);
		console.log("Fever = " + fever);

		if (smokingHistory == true) {
			if(cough == true)
				var result = "Disease = X";
		}
		else
			var result = "Diagnosis inconclusive";

		document.getElementById("modal-paragraph").innerHTML = result;
    	
    	modal.style.display = "block";

    	span.onclick = function() {
    		modal.style.display = "none";
		}

	}

	function validate() {
 			var l1Item = document.getElementById("bodyPart");
 			var selectedValue = l1Item.options[l1Item.selectedIndex].value;
    		console.log("Selected item = " + selectedValue);

    		clearPreviousEntry();

    		if(selectedValue == "A")
    			document.getElementById('l2').style.display = "block";
    		else if(selectedValue == "chest")
    			document.getElementById('chestData').style.display = "block";
    		else if(selectedValue == "C")
    			document.getElementById('l4').style.display = "block";
		}

	</script>

</head>
<body>

	<nav class="navbar navbar-default">
	  <div class="container-fluid">
	    <div class="navbar-header">
	      <a class="navbar-brand" href="#">5C Network</a>
	    </div>
	    <ul class="nav navbar-nav">
<!-- 	      <li class="active"><a href="#">Home</a></li>
	      <li><a href="#">Page 1</a></li>
	      <li><a href="#">Page 2</a></li>
	      <li><a href="#">Page 3</a></li> -->
	    </ul>
	  </div>
	</nav>
	
	<div class = "row">
		<div class="form-group col-xs-3" style="margin-left:20px;">
			<label for="sel1">Select Body Part</label>
			<select class="form-control" id="bodyPart" onchange="validate()">
				<option value="chest">Chest</option>
				<option value="A">Heart</option>
				<option value="C">C</option>
			</select>
			<br>
			<!-- <button type="button" onclick="validate()"  class="btn btn-primary">Submit</button> -->

		</div>

		<div class = "col-xs-2">
		</div>

		<div id="l2" class="col-xs-6" style="display:none;">
			<select id="list2">
				<option value="E">E</option>
				<option value="F">F</option>
			</select>
		</div>

		<div id="chestData" class="col-xs-6" style="display:none;">

			<form action = "/clinic/" method = "post"> {% csrf_token %}

			<label for="smoking">Smoking History: </label>
			<input type = "checkbox" id="smoking" name="smoking"></input><br><br>

			<label for="allergies">Allergies & Exposure:</label>
			<textarea class="form-control" rows="5" id="allergies" name="allergies"></textarea><br><br>

			<label for="cough">Cough: </label>
			<input type = "checkbox" id="cough" name="cough"></input><br><br>

			<label for="fever">Fever: </label>
			<input type = "checkbox" id="fever" name="fever"></input><br><br>

			<label for="hemoptysis">Hemoptysis: </label>
			<input type = "checkbox" id="hemoptysis" name="hemoptysis"></input><br><br>

			<label for="breathlessness">Breathlessness: </label>
			<input type = "checkbox" id="breathlessness" name="breathlessness"></input><br><br>

			<label for="skinrash">Skin rash / joint pain / Arthritis: </label>
			<input type = "checkbox" id="skinrash" name="skinrash"></input><br><br>

			<label for="tb"> History of TB / weight loss / malignancy: </label>
			<input type = "checkbox" id="tb" name="tb"></input><br><br>

			<label for="cvd"> Collagen Vascular Disease (eg. swallowing difficulty, Raynauds, etc.): </label>
			<input type = "checkbox" id="cvd" name="cvd"></input><br><br>

			<label for="sinusitis"> Sinusitis </label>
			<input type = "checkbox" id="sinusitis" name="sinusitis"></input><br><br>

			<label for="asthma"> Asthma </label>
			<input type = "checkbox" id="asthma" name="asthma"></input><br><br>

			<label for="dm"> DM: </label>
			<input type = "checkbox" id="dm" name="dm"></input><br><br>

			<label for="hiv"> HIV: </label>
			<input type = "checkbox" id="hiv" name="hiv"></input><br><br>

<!-- 			<label for="drughistory"> Drug history: </label>
			<input type = "checkbox" id="drughistory"></input><br><br>

			<label for="cbc"> CBC -esp Eosinophilis: </label>
			<input type = "checkbox" id="cbc"></input><br><br>	 -->		


			<button type="submit" class="btn btn-primary" id="submit" name="submit">Submit</button>

			</form>
		

		</div>

		<div id="l4" class="col-xs-6" style="display:none;">
			<select id="list4">
				<option value="Y">Y</option>
				<option value="Z">Z</option>
			</select>
		</div>

	</div>

	<!-- Modal to display diagnosis -->
	<div id="modal" class="modal">
		<div class = "modal-content">
		<span class="close">&times;</span>
		<p id = "modal-paragraph"></p>
		</div>	
	</div>

	</body>
	</html>